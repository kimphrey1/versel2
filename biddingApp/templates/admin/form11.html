{% extends 'admin/admin_navbar.html' %}

{% block title %} Form 11 {% endblock %}
{% block notice_list %} active {% endblock %}
{% block css %}
<!-- Bootsrap Link -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

<!-- Include DataTables CSS -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css">
<!-- Include DataTables Buttons CSS -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/2.0.0/css/buttons.dataTables.min.css">
<style>
    body {
        font-family: Cambria, Georgia, serif !important;
    }

    /* Red border and dark line surrounding the table */
    .custom-table-container {
        border: 2px solid red;
        padding: 10px;
        border-radius: 5px;
        box-shadow: 0 0 0 2px #343a40;
        overflow-x: auto;
    }

    .custom-table-container table {
        border: 2px solid black;
        /* Black outside border for the table */
        border-collapse: collapse;
        width: 100%;
        /* Make the table fill the available width */
        max-width: none;
        /* Disable maximum width */
    }

    /* Hover effect for rows */
    .custom-table-container table tbody tr:hover {
        background-color: #ffff99;
    }

    /* Thin black line through the columns */
    .custom-table-container table th,
    .custom-table-container table td {
        border-right: 1px solid black;
    }

    /* DataTables buttons styling */
    .dt-buttons {
        margin-bottom: 10px;
    }

    /* Add button styling */
    .add-button-container {
        display: flex;
        justify-content: center;
        margin-bottom: 20px;
    }

    .add-button {
        margin: 0 auto;
        background-color: #ff0000;
        /* Red background */
        color: #ffffff;
        /* White text */
        border: none;
        /* No border */
        border-radius: 20px;
        /* Rounded corners */
        padding: 10px 20px;
        /* Padding */
        font-size: 16px;
        /* Font size */
        cursor: pointer;
        /* Cursor style */
        box-shadow: 0 5px 15px rgba(255, 0, 0, 0.4);
        /* Box shadow */
        transition: all 0.3s ease;
        /* Transition effect */
    }

    .add-button:hover {
        transform: translateY(-3px);
        /* Move button up */
        box-shadow: 0 8px 20px rgba(255, 0, 0, 0.6);
        /* Enhanced box shadow on hover */
    }

    /* this bdr is used to make the bottom border of
 thead to be black. else it will be gray by default*/
    .bdr {
        border-bottom: 2px solid black !important;
    }

    @media print {
        .no-print {
            display: none;
        }

        .custom-table-container {
            border: none;
        }

        #form-11 {
            overflow: hidden;
        }

        /* .header-mark {
            position: fixed;
            top: 20;
            margin-bottom: 10px;
        } */

        @page {
            size: landscape;
            margin: none;
        }
    }
</style>
{% endblock %}
{% block body %}
<div class="container mt-4 custom-table-container">

    <!-- FORM 11 STARTS -->
    <div id="form-11">
        <h6 class="header-mark text-start fw-bolder text-secondary">
            UGANDA NATIONAL OIL COMPANY
        </h6>

        <h5 class="text-center fw-bold">
            FORM 11
        </h5>

        <h5 class="text-end fst-italic">
            Regulation 59(3), 59 (8), 60(7)
        </h5>
        <h5 class="text-center">
            THE PUBLIC PROCUREMENT AND DISPOSAL OF PUBLIC ASSETS ACT, 2003
        </h5>
        <h5 class="text-center fw-bold text-decoration-underline">
            RECORD OF BIDS RECEIVED
        </h5>
        <table class="table table-striped table-hover" id="example">

            <thead class="dark-heading">
                <tr>
                    <th colspan="4" class="bdr fw-bold fs-6 text-center">
                        Procurement Reference Number
                    </th>
                </tr>
                <tr>
                    <th class="text-center fw-normal">Code of Procuring and Disposing<br> Entity</th>
                    <th class="text-center fw-normal">Supplies/Works/<br>Non-consultancy services</th>
                    <th class="text-center fw-normal">Financial year</th>
                    <th class="text-center fw-normal">Sequence number</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td class="fw-bold text-start">{{ notice_ref.0 }}</td>
                    <td class="fw-bold text-start">{{ notice_ref.1 }}</td>
                    <td class="fw-bold text-start">{{ notice_ref.2 }}</td>
                    <td class="fw-bold text-start">{{ notice_ref.3 }}</td>
                </tr>

            </tbody>
        </table>

        <table class="table table-striped table-hover" id="example">

            <thead class="dark-heading">
                <th colspan="2" class="fw-bold fs-6 text-center">
                    Particulars of procurement
                </th>
            </thead>
            <tbody>

                <tr>
                    <td class="fw-bold text-start">Subject of procurement</td>
                    <td class="fw-bold text-start">{{ notice.title}}
                    </td>
                </tr>
                <tr>
                    <td class="fw-bold text-start">Deadline for bid submission &nbsp;<p class="fw-normal">(date and
                            time)</p>
                    </td>
                    <td class="fw-bold text-start">{{ notice.end_date|date:"jS F Y" }} at {{ notice.end_date|time:"g:i a" }}
                    </td>
                </tr>
                <tr>
                    <td class="fw-bold text-start">Location for bid closing</td>
                    <td class="fw-bold text-start">UNOC Reception</td>
                </tr>
            </tbody>
        </table>
        <table class="table table-striped table-hover" id="content">

            <thead class="dark-heading">
                <th colspan="8" class="bdr fw-bold fs-6 text-center">
                    Particulars of receipt or bid closing
                </th>
                <tr>
                    <th class="text-center fw-bold">No.</th>
                    <th class="text-center fw-bold">Name and address of Bidder</th>
                    <th class="text-center fw-bold">Date of receipt</th>
                    <th class="text-center fw-bold">Time of receipt</th>
                    <th class="text-center fw-bold">Number of envelopes</th>
                    <th class="text-center fw-bold">Method of receipt: person/bid box</th>
                    <th class="text-center fw-bold">Name of officer who received the bid</th>
                    <th class="text-center fw-bold">Signature of officer who received the bid</th>
                </tr>
            </thead>
            <tbody>
                {% for s in submissions %}
                <tr>
                    <td class="fw-normal text-start">{{forloop.counter}}</td>
                    <td class="fw-normal text-start">{{s.applicant.user.username}}, {{s.applicant.address}}</td>
                    <td class="fw-normal text-start">{{s.submission_date|date:"F d, Y"}}</td>
                    <td class="fw-normal text-start">{{s.submission_date|time:"h:i A" }}</td>
                    <td class="fw-normal text-start">{{s.files_attached}}</td>
                    <td class="fw-normal text-start">Bid box</td>
                    <td class="fw-normal text-start">N/A</td>
                    <td class="fw-normal text-start">N/A</td>
                </tr>
                {% endfor %}
                <!-- some dummy content -->
                <tr>
                    <td class="fw-normal text-start">3</td>
                    <td class="fw-normal text-start">XTRA-MUON SERVICES, Nansana, Kampala</td>
                    <td class="fw-normal text-start">April 09, 2024</td>
                    <td class="fw-normal text-start">04:30pm</td>
                    <td class="fw-normal text-start">7</td>
                    <td class="fw-normal text-start">Bid box</td>
                    <td class="fw-normal text-start">N/A</td>
                    <td class="fw-normal text-start">N/A</td>
                </tr>
{%comment%}
                <tr>
                    <td class="fw-normal text-start">6</td>
                    <td class="fw-normal text-start">XTRA-MUON SERVICES, Nansana, Kampala</td>
                    <td class="fw-normal text-start">April 09, 2024</td>
                    <td class="fw-normal text-start">04:30pm</td>
                    <td class="fw-normal text-start">8</td>
                    <td class="fw-normal text-start">Bid box</td>
                    <td class="fw-normal text-start">N/A</td>
                    <td class="fw-normal text-start">N/A</td>
                </tr>

                <tr>
                    <td class="fw-normal text-start">8</td>
                    <td class="fw-normal text-start">XTRA-MUON SERVICES, Nansana, Kampala</td>
                    <td class="fw-normal text-start">April 09, 2024</td>
                    <td class="fw-normal text-start">04:30pm</td>
                    <td class="fw-normal text-start">7</td>
                    <td class="fw-normal text-start">Bid box</td>
                    <td class="fw-normal text-start">N/A</td>
                    <td class="fw-normal text-start">N/A</td>
                </tr>
                <tr>
                    <td class="fw-normal text-start">9</td>
                    <td class="fw-normal text-start">XTRA-MUON SERVICES, Nansana, Kampala</td>
                    <td class="fw-normal text-start">April 09, 2024</td>
                    <td class="fw-normal text-start">04:30pm</td>
                    <td class="fw-normal text-start">7</td>
                    <td class="fw-normal text-start">Bid box</td>
                    <td class="fw-normal text-start">N/A</td>
                    <td class="fw-normal text-start">N/A</td>
                </tr>
                <tr>
                    <td class="fw-normal text-start">10</td>
                    <td class="fw-normal text-start">XTRA-MUON SERVICES, Nansana, Kampala</td>
                    <td class="fw-normal text-start">April 09, 2024</td>
                    <td class="fw-normal text-start">04:30pm</td>
                    <td class="fw-normal text-start">7</td>
                    <td class="fw-normal text-start">Bid box</td>
                    <td class="fw-normal text-start">N/A</td>
                    <td class="fw-normal text-start">N/A</td>
                </tr> {%endcomment%}
            </tbody>
        </table>

        <!-- Officer 1 -->
        <div class='row mt-5 ml-5'>
            <div class=" col-md-6">
                <p>Name: ___________________________________</p>
            </div>
            <div class=" col-md-6">
                <p>Position: _______________________________</p>
            </div>
        </div>
        <div class='row mt-3 ml-5'>
            <div class=" col-md-6">
                <p>Signature: _______________________________</p>
            </div>
            <div class=" col-md-6">
                <p>Date: ____________________________________</p>
            </div>
        </div>
        <!-- Officer 2 -->
        <div class='row mt-3 ml-5'>
            <div class=" col-md-6">
                <p>Name: ___________________________________</p>
            </div>
            <div class=" col-md-6">
                <p>Position: _______________________________</p>
            </div>
        </div>
        <div class='row mt-3 ml-5'>
            <div class=" col-md-6">
                <p>Signature: _______________________________</p>
            </div>
            <div class=" col-md-6">
                <p>Date: ____________________________________</p>
            </div>
        </div>
        <!-- End of Officer section -->
    </div>
    <!-- END OF FORM 11 -->
    <div>

        <button class="mt-3 btn btn-outline-danger no-print"
            onclick="document.title='Form11-{{notice.title}}.pdf'; generatePDF()">
            <i class="fa fa-file-pdf" aria-hidden="true"></i>
            Download as PDF
        </button>
    </div>
</div>

{% endblock %}
{% block js %}

<script>
    function generatePDF() {
        window.print();
    }
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
    integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
    crossorigin="anonymous"></script>
{% endblock %}